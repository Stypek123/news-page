(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["announc"],{"119f":function(t,e,n){},3376:function(t,e,n){"use strict";n("51eb")},"503f":function(t,e,n){},"51eb":function(t,e,n){},6431:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"announc"},[n("b-container",[n("b-row",[n("b-col",[n("div",{staticClass:"sub-title"},[n("h1",[t._v(" Ogłoszenia ")])])])],1),n("b-row",[n("b-col",{staticClass:"mb-2"},[n("button",{staticClass:"ml-1 mr-1",on:{click:function(e){return e.target!==e.currentTarget?null:t.addAnnouncShow.apply(null,arguments)}}},[t._v(" Dodaj post ")]),n("button",{staticClass:"ml-1 mr-1",on:{click:function(e){return e.target!==e.currentTarget?null:t.openPostsToAccept.apply(null,arguments)}}},[t._v(" Panel Administracyjny ")])])],1),n("b-row",{staticClass:"justify-content-end"},[n("b-col",[n("div",{staticClass:"buttons mb-4"},[n("button",{staticClass:"button mr-2 mb-2",on:{click:function(e){return t.changeCategories("all")}}},[t._v(" Wszystko ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("cars")}}},[t._v(" Motoryzacja ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("clothes")}}},[t._v(" Ubrania ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("houses")}}},[t._v(" Nieruchomości ")]),n("button",{staticClass:"button ml-2 mb-2",on:{click:function(e){return t.changeCategories("services")}}},[t._v(" Usługi ")])])])],1),n("b-row",{staticClass:"justify-content-center"},t._l(t.announcements,(function(t){return n("announComponent",{key:t._id,attrs:{title:t.title,img:t.img,content:t.text}})})),1)],1),n("FooterComponent"),n("div",{staticClass:"addAnnounc"},[t.isShowed?n("addAnnounComponent",{on:{close:t.addAnnouncShow}}):t._e()],1),n("div",{staticClass:"acceptAnnounc"},[t.isPostsToAccpetShowed?n("AcceptAnnouncementsComponent",{on:{close:t.openPostsToAccept}}):t._e()],1)],1)},a=[],c=n("1da1"),s=(n("96cf"),n("2b96")),r=n("e741"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AddAnnounComponent"},[n("div",{staticClass:"announcModuleBg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}},[n("div",{staticClass:"announcModule"},[n("span",{staticClass:"closeBox"},[n("span",{staticClass:"closeIco",on:{click:t.closeModal}},[n("i",{staticClass:"fas fa-times"})])]),n("b-card",{staticClass:"announcForm",attrs:{header:"Dodaj ogłoszenie","header-bg-variant":"primary","header-text-variant":"white"}},[n("b-card-text",[n("b-form",{on:{submit:t.onSubmit}},[n("b-form-group",{attrs:{description:"Podaj tytuł swojego ogłoszenia.",label:"Tytuł ogłoszenia"}},[n("b-form-input",{attrs:{required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("b-form-group",{attrs:{description:"Podaj opis swojego ogłoszenia.",label:"Opis ogłoszenia"}},[n("b-form-input",{attrs:{type:"text",required:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),n("b-form-group",{attrs:{description:"Podaj link do zdjęcia, które ma się wyświetlać jako miniaturka.",label:"Zdjęcie"}},[n("b-form-input",{model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),n("b-form-checkbox-group",{staticClass:"mb-3",model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},[n("b-form-checkbox",{attrs:{value:"cars"}},[t._v(" Motoryzacja ")]),n("b-form-checkbox",{attrs:{value:"clothes"}},[t._v(" Ubrania ")]),n("b-form-checkbox",{attrs:{value:"houses"}},[t._v(" Nieruchomości ")]),n("b-form-checkbox",{attrs:{value:"services"}},[t._v(" Usługi ")])],1),n("b-form-group",{staticClass:"text-center"},[n("b-button",{attrs:{type:"submit",variant:"outline-primary",disabled:t.acceptableSubmittion}},[t._v("Zamieść ogłoszenie")])],1)],1)],1)],1)],1)])])},l=[],u=n("67e9"),m={name:"AddAnnounComponent",data:function(){return{title:"",text:"",url:"",category:""}},methods:{onSubmit:function(t){t.preventDefault(),u["a"].insertAnnouncement(this.url,this.title,this.text,this.category),alert("udał się zamieścić twój post!"),this.$emit("close")},closeModal:function(){this.$emit("close")}},computed:{acceptableSubmittion:function(){return!(this.title.length>2&&this.text.length>3&&this.category.length>1)}}},p=m,b=(n("7666"),n("2877")),d=Object(b["a"])(p,i,l,!1,null,null,null),f=d.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"acceptComponent"},[n("div",{staticClass:"acceptModuleBg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}},[n("div",{staticClass:"acceptModule"},[n("span",{staticClass:"closeBox"},[n("span",{staticClass:"closeIco",on:{click:t.closeModal}},[n("i",{staticClass:"fas fa-times"})])]),n("b-row",[n("b-col",[n("h1",[t._v(" Kliknj 2 razy żeby zaakceptować")]),n("h4",[t._v(" (odśwież żeby zobaczyć rezultaty) ")])])],1),n("b-row",{staticClass:"justify-content-center"},t._l(t.announcements,(function(e){return n("AnnounComponent",{key:e._id,staticClass:"b-card",attrs:{title:e.title,img:e.img,content:e.text},on:{accept:function(n){return t.acceptPost(e._id)}}})})),1)],1)])])},h=[],v={name:"acceptComponent",components:{AnnounComponent:s["a"]},data:function(){return{announcements:[],error:[]}},methods:{closeModal:function(){this.$emit("close")},acceptPost:function(t){console.log(t),u["a"].updateAnnouncement(t),alert("zaakceptowałeś ogłoszenie (id: ".concat(t,")"))}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getNotAcceptedAnnouncements();case 3:t.announcements=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),t.error=e.t0.message,error&&console.log(t.error);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},C=v,k=(n("3376"),Object(b["a"])(C,g,h,!1,null,null,null)),w=k.exports,y={name:"announc",components:{announComponent:s["a"],FooterComponent:r["a"],AddAnnounComponent:f,AcceptAnnouncementsComponent:w},mounted:function(){this.fillAnnouncements()},data:function(){return{isShowed:!1,announcements:[],error:[],isPostsToAccpetShowed:!1,category:"all"}},methods:{addAnnouncShow:function(){this.isShowed=!this.isShowed},openPostsToAccept:function(){this.isPostsToAccpetShowed=!this.isPostsToAccpetShowed,this.fillAnnouncements()},fillAnnouncements:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("tutaj przeszło"),"all"!==t.category){e.next=15;break}return console.log("hej jestem al"),e.prev=3,e.next=6,u["a"].getAnnouncements();case 6:t.announcements=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),t.error=e.t0.message,error&&console.log(t.error);case 13:e.next=26;break;case 15:if("all"===t.category){e.next=26;break}return e.prev=16,e.next=19,u["a"].getAnnouncementsFromCategory(t.category);case 19:t.announcements=e.sent,e.next=26;break;case 22:e.prev=22,e.t1=e["catch"](16),t.error=e.t1.message,error&&console.log(t.error);case 26:case"end":return e.stop()}}),e,null,[[3,9],[16,22]])})))()},changeCategories:function(t){this.category=t,this.fillAnnouncements()}}},x=y,A=(n("95cb"),Object(b["a"])(x,o,a,!1,null,"1eb76230",null));e["default"]=A.exports},7666:function(t,e,n){"use strict";n("503f")},"95cb":function(t,e,n){"use strict";n("119f")}}]);
//# sourceMappingURL=announc.a1badbdf.js.map