(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["announc"],{3376:function(t,e,n){"use strict";n("51eb")},"3b6c":function(t,e,n){},"503f":function(t,e,n){},"51eb":function(t,e,n){},6431:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"announc"},[n("b-container",[n("b-row",[n("b-col",[n("div",{staticClass:"sub-title"},[n("h1",[t._v(" Ogłoszenia ")])])])],1),n("b-row",[n("b-col",{staticClass:"mb-2"},[n("button",{staticClass:"ml-1 mr-1",on:{click:function(e){return e.target!==e.currentTarget?null:t.addAnnouncShow.apply(null,arguments)}}},[t._v(" Dodaj post ")]),n("button",{staticClass:"ml-1 mr-1",on:{click:function(e){return e.target!==e.currentTarget?null:t.openPostsToAccept.apply(null,arguments)}}},[t._v(" Panel Administracyjny ")])])],1),n("b-row",{staticClass:"justify-content-end"},[n("b-col",[n("div",{staticClass:"buttons mb-4"},[n("button",{staticClass:"button mr-2 mb-2",on:{click:function(e){return t.changeCategories("all")}}},[t._v(" Wszystko ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("cars")}}},[t._v(" Motoryzacja ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("clothes")}}},[t._v(" Ubrania ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("houses")}}},[t._v(" Nieruchomości ")]),n("button",{staticClass:"button ml-2 mr-2 mb-2",on:{click:function(e){return t.changeCategories("services")}}},[t._v(" Usługi ")]),n("button",{staticClass:"button ml-2 mb-2",on:{click:function(e){return t.changeCategories("other")}}},[t._v(" Inne ")])])])],1),n("b-row",{staticClass:"justify-content-center"},t._l(t.announcements,(function(e){return n("announComponent",{key:e._id,attrs:{title:e.title,img:e.img,content:e.text,date:e.createdAt,user:e.user,toAccept:t.toAccept,toDelete:t.toDelete,isAdminPage:t.isAdminPage}})})),1)],1),n("FooterComponent"),n("div",{staticClass:"addAnnounc"},[t.isShowed?n("addAnnounComponent",{on:{close:t.addAnnouncShow}}):t._e()],1),n("div",{staticClass:"acceptAnnounc"},[t.isPostsToAccpetShowed?n("AcceptAnnouncementsComponent",{on:{close:t.openPostsToAccept}}):t._e()],1)],1)},c=[],a=n("1da1"),s=(n("96cf"),n("2b96")),i=n("e741"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AddAnnounComponent"},[n("div",{staticClass:"announcModuleBg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}},[n("div",{staticClass:"announcModule"},[n("span",{staticClass:"closeBox"},[n("span",{staticClass:"closeIco",on:{click:t.closeModal}},[n("i",{staticClass:"fas fa-times"})])]),n("b-card",{staticClass:"announcForm",attrs:{header:"Dodaj ogłoszenie","header-bg-variant":"primary","header-text-variant":"white"}},[n("b-card-text",[n("b-form",{on:{submit:t.onSubmit}},[n("b-form-group",{attrs:{description:"Podaj tytuł swojego ogłoszenia.",label:"Tytuł ogłoszenia"}},[n("b-form-input",{attrs:{required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("b-form-group",{attrs:{description:"Podaj opis swojego ogłoszenia.",label:"Opis ogłoszenia"}},[n("b-form-textarea",{attrs:{id:"textarea",rows:"2","max-rows":"2"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),n("b-form-group",{attrs:{description:"Podaj link do zdjęcia, które ma się wyświetlać jako miniaturka.",label:"Zdjęcie"}},[n("b-form-input",{model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),n("b-form-group",{attrs:{description:"Wybierz kategorię odpowiadającą twojemu ogłoszeniu",label:"Kategoria ogłoszenia"}},[n("b-form-select",{attrs:{options:t.options},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),n("b-form-group",{staticClass:"text-center"},[n("b-button",{attrs:{type:"submit",variant:"outline-primary",disabled:t.acceptableSubmittion}},[t._v("Zamieść ogłoszenie")])],1)],1)],1)],1)],1)])])},l=[],u=(n("a434"),n("67e9")),m={name:"AddAnnounComponent",data:function(){return{title:"",text:"",url:"",category:[],options:[{value:"cars",text:"Motoryzacja"},{value:"clothes",text:"Ubrania"},{value:"houses",text:"Nieruchomości"},{value:"services",text:"Usługi"},{value:"other",text:"inne"}]}},methods:{onSubmit:function(t){t.preventDefault(),u["a"].insertAnnouncement(this.url,this.title,this.text,this.category),alert("udał się zamieścić twój post!"),this.$emit("close")},closeModal:function(){this.$emit("close")},checked:function(){this.category.length>1&&this.category.splice(1,1)}},mounted:function(){this.checked()},computed:{acceptableSubmittion:function(){return!(this.title.length>2&&this.text.length>3&&this.category.length>0)}}},d=m,p=(n("7666"),n("2877")),g=Object(p["a"])(d,r,l,!1,null,null,null),b=g.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"acceptComponent"},[n("div",{staticClass:"acceptModuleBg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}}),n("div",{staticClass:"acceptModule"},[n("span",{staticClass:"closeBox"},[n("span",{staticClass:"closeIco",on:{click:t.closeModal}},[n("i",{staticClass:"fas fa-times"})])]),n("b-row",{staticClass:"justify-content-center"},t._l(t.announcements,(function(e){return n("AnnounComponent",{key:e._id,staticClass:"b-card",attrs:{title:e.title,img:e.img,content:e.text,date:e.createdAt,user:e.user,toAccept:t.toAccept,toDelete:t.toDelete,isAdminPage:t.isAdminPage},on:{accept:function(n){return t.acceptPost(e._id)},delete:function(n){return t.deletePost(e._id)}}})})),1)],1)])},h=[],A={name:"acceptComponent",components:{AnnounComponent:s["a"]},data:function(){return{announcements:[],error:[],isAdminPage:!0,toAccept:!0,toDelete:!0}},methods:{closeModal:function(){this.$emit("close")},acceptPost:function(t){console.log(t),u["a"].updateAnnouncement(t),alert("zaakceptowałeś ogłoszenie (id: ".concat(t,")")),this.fillAnnouncements()},deletePost:function(t){console.log(t),u["a"].updateAnnouncement(t),alert("usunąłeś ogłoszenie (id: ".concat(t,")")),this.fillAnnouncements()},fillAnnouncements:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getNotAcceptedAnnouncements();case 3:t.announcements=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),t.error=e.t0.message,error&&console.log(t.error);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fillAnnouncements();case 1:case"end":return e.stop()}}),e)})))()}},C=A,v=(n("3376"),Object(p["a"])(C,f,h,!1,null,null,null)),w=v.exports,x={name:"announc",components:{announComponent:s["a"],FooterComponent:i["a"],AddAnnounComponent:b,AcceptAnnouncementsComponent:w,isAdminPage:!1},mounted:function(){this.fillAnnouncements()},data:function(){return{isShowed:!1,announcements:[],error:[],isPostsToAccpetShowed:!1,category:"all",isAdminPage:!0,toAccept:!1,toDelete:!0}},methods:{addAnnouncShow:function(){this.isShowed=!this.isShowed},openPostsToAccept:function(){this.isPostsToAccpetShowed=!this.isPostsToAccpetShowed,this.fillAnnouncements()},fillAnnouncements:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("all"!==t.category){e.next=13;break}return e.prev=1,e.next=4,u["a"].getAnnouncements();case 4:t.announcements=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),t.error=e.t0.message,error&&console.log(t.error);case 11:e.next=24;break;case 13:if("all"===t.category){e.next=24;break}return e.prev=14,e.next=17,u["a"].getAnnouncementsFromCategory(t.category);case 17:t.announcements=e.sent,e.next=24;break;case 20:e.prev=20,e.t1=e["catch"](14),t.error=e.t1.message,error&&console.log(t.error);case 24:case"end":return e.stop()}}),e,null,[[1,7],[14,20]])})))()},changeCategories:function(t){this.category=t,this.fillAnnouncements()}}},k=x,y=(n("ece4"),Object(p["a"])(k,o,c,!1,null,"6cb117e8",null));e["default"]=y.exports},7666:function(t,e,n){"use strict";n("503f")},ece4:function(t,e,n){"use strict";n("3b6c")}}]);
//# sourceMappingURL=announc.353c28a8.js.map